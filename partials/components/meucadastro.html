<form ng-cloak name="formCadastro">
	<div layout="column" flex layout-fill ng-cloak ng-if="!loading">
		<md-content style="height: 78vh;">
			<section class="back-fff">
				<md-card>
					<md-card-header class="pesquisa"></md-card-header>
					<md-card-content class="content">				
						<md-input-container class="md-block" flex-gt-sm>
							<label>Nome</label>
							<input required name="nome" ng-model="usuario.name" md-maxlength="80"/>
							<div ng-messages="formCadastro.nome.$error" ng-show="formCadastro.nome.$invalid">
								<div ng-message="required">O nome é obrigatório.</div>
							</div>
						</md-input-container>
						<md-input-container class="md-block" flex-gt-sm>
							<label>E-mail</label>
							<input required type="email" name="email" ng-model="usuario.username" 
							 disabled md-maxlength="80"/>
							<div ng-messages="formCadastro.email.$error" 
							 ng-show="formCadastro.email.$invalid">
								<div ng-message="required">O e-mail é obrigatório.</div>
								<div ng-message="email" >O e-mail é inválido.</div>
							</div>
						</md-input-container>
						<md-input-container class="md-block" flex-gt-sm>
							<label>Telefone</label>
							<input type="text" name="telefone" ng-model="usuario.telefone" ui-br-phone-number/>
						</md-input-container>
						<md-input-container class="md-block" flex-gt-sm>
							<label>Nova Senha</label>
							<input type="password" name="senha" ng-model="senha" md-maxlength="80"/>
						</md-input-container>
						<md-input-container class="md-block" flex-gt-sm>
							<label>Repita a Senha</label>
							<input type="password" name="nova" ng-model="novaSenha" 
							 md-maxlength="80" ng-minlength="8"/>
							<div ng-messages="formCadastro.nova.$error" 
							     ng-show="((senha)&&(senha!=novaSenha)) || ((novaSenha)&&(senha!=novaSenha))">
								<div ng-message="minlength">As senhas não conferem. Sua senha deve conter 
								 no mínimo 8 caracteres.</div>
							</div>
						</md-input-container>
					</md-card-content>
					<md-card-actions layout="row" layout-align="end center">
			          	<md-button style="float: right;"
						 ng-disabled="(formCadastro.$invalid) || ((senha)&&(senha!=novaSenha)) || 
						 ((novaSenha)&&(senha!=novaSenha))" ng-click="save(usuario, senha)">Salvar</md-button>
			        </md-card-actions>
				</md-card>
			</section>
		</md-content>
	</div>
</form>